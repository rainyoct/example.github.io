---
layout: post
title: thoughts
category: technology
tags: thoughts
description: thoughts
---

无人深空，通过共同的seed和algorithm，根据伪随机数算法，生成同样的大空间。

无锁访问共享变量 Copy on write

短暂中心化

热点数据放在一个page里提交，滑动窗口中一定是当前最热的inode，一路遗留下可能较稀疏的page。
优点：磨损均衡、相同热度相邻
缺点：可能一直在移动

Embedded File System：  
循环log，将要满时或一段时间commit（若是脏页）  
counter首位用于记录该页是否空闲

logFS->JFFS2->UBIFS(index放在FLASH上)->F2FS(wondering tree，NAT)  
面对裸片，要做3个层面的工作：1.MTD层，2.处理wear-leveling及坏快等，3.文件系统。

一个空的逻辑块用于GC，obsoleted data 超过50%时，尽量与冷数据块GC。

RAM-resident structure, On-FLASH structure.  
去掉权限，去掉softlink。  
version号，id号，断电恢复后以最新version为标准。version可以从高到低，把高位从1到0就地更新，更新多次后再重新找page写。
tree in RAM for every file to find chunk.  
YAFFS没有WL

[Python中的闭包与惰性计算](https://blog.csdn.net/Solo95/article/details/78844141)  
Code is Data, 函数也可以是返回值

[Haskell](https://www.w3cschool.cn/hsriti/)  
[Haskell与范筹论](https://www.cnblogs.com/catch/p/3973104.html)  
[函数编程中functor和monad的形象解释](https://www.jdon.com/idea/functor-monad.html)

正则表达式用状态机实现，非图灵完备。但[Lambda表达式是图灵完备的](http://chillyc.info/2017/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E5%9B%BE%E7%81%B5%E5%AE%8C%E5%A4%87/)。  
[Lambda演算](https://blog.csdn.net/yuxiaohen/article/details/49643641)  
[不动点组合子](https://zh.wikipedia.org/wiki/%E4%B8%8D%E5%8A%A8%E7%82%B9%E7%BB%84%E5%90%88%E5%AD%90)

Lisp宏, 元编程, vim宏
